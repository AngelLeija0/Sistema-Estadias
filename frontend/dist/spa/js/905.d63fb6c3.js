"use strict";(globalThis["webpackChunkestadias_quasar"]=globalThis["webpackChunkestadias_quasar"]||[]).push([[905],{7905:(e,a,l)=>{l.r(a),l.d(a,{default:()=>ve});var o=l(59835),n=l(86970);const t=e=>((0,o.dD)("data-v-043f6bc0"),e=e(),(0,o.Cn)(),e),i={class:"container-fluid",style:{"background-color":"#f5f5f5"}},s={key:0,class:"container-fluid",style:{"background-color":"#f5f5f5",height:"500px","margin-top":"0"}},r={class:"row"},d={class:"col-12",style:{display:"flex","justify-content":"center"}},p=t((()=>(0,o._)("h1",{style:{"font-size":"24px","font-weight":"400"}}," Cargando vinculador ",-1))),c={key:1,class:"container-fluid q-pt-sm q-pl-xl q-pr-xl q-pb-xl",style:{"background-color":"#f5f5f5","min-height":"73vh"}},u={class:"row q-ml-xl q-mr-xl",style:{"background-color":"white","border-radius":"15px",height:"65vh"}},m={class:"col-3 q-pt-lg",style:{"border-right":"1px solid lightgray"}},f={style:{padding:"5px","text-align":"center","border-bottom":"1px solid lightgray"}},g={style:{"font-size":"16px","font-weight":"500","margin-bottom":"0"}},x={style:{"font-size":"16px","font-weight":"500"}},v={style:{"font-size":"14px"}},w={style:{color:"#777676","font-size":"14px"}},y={style:{"font-size":"18px","padding-top":"20px"}},b={class:"col-8 q-pl-xl"},_={key:0,class:"row"},h=t((()=>(0,o._)("div",{class:"col-12"},[(0,o._)("h5",{style:{"font-weight":"500"}},"Información General")],-1))),z={class:"col-12 flex justify-end",style:{"padding-bottom":"10px"}},k={class:"col-12"},q={key:0,class:"row"},D={class:"col-4"},W=t((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Nombre",-1))),C={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},P={class:"col-4"},V=t((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Email",-1))),E={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},I={class:"col-4"},H=t((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Username",-1))),Z={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},Q=t((()=>(0,o._)("div",{class:"col-12"},null,-1))),U=t((()=>(0,o._)("div",{class:"col-3"},[(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Contraseña"),(0,o._)("p",{style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}}," ********** ")],-1))),S={key:1,class:"row"},j={class:"col-4"},A=t((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Nombre",-1))),T={style:{width:"90%"}},$={class:"col-4"},B=t((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Email",-1))),F={style:{width:"90%"}},M={class:"col-4"},G=t((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Usuario",-1))),L={style:{width:"90%"}},N={class:"col-3"},R=t((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Contraseña",-1))),Y={style:{width:"90%"}};function J(e,a,l,t,J,K){const O=(0,o.up)("q-btn"),X=(0,o.up)("q-card-actions"),ee=(0,o.up)("q-spinner-hourglass"),ae=(0,o.up)("q-card-section"),le=(0,o.up)("q-card"),oe=(0,o.up)("q-icon"),ne=(0,o.up)("q-btn-group"),te=(0,o.up)("q-dialog"),ie=(0,o.up)("q-input");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[(0,o.Wm)(X,{style:{display:"flex","justify-content":"start"}},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{flat:"",color:"black",label:"Regresar",icon:"arrow_left",style:{margin:"3px","text-transform":"capitalize","font-size":"16px"},onClick:e.toBack},null,8,["onClick"])])),_:1})]),e.adminsLoaded?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",r,[(0,o._)("div",d,[(0,o.Wm)(le,{class:"q-ma-lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(ae,{class:"q-ml-xl q-mr-xl q-mt-sm q-mb-xl text-center"},{default:(0,o.w5)((()=>[p,(0,o.Wm)(ee,{color:"primary",size:"4em"})])),_:1})])),_:1})])])])):((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",u,[(0,o._)("div",m,[(0,o._)("div",f,[(0,o._)("p",g,(0,n.zw)(e.admin.datosPersonales.nombres.nombre),1),(0,o._)("p",x,(0,n.zw)(e.admin.datosPersonales.nombres.apPaterno)+" "+(0,n.zw)(e.admin.datosPersonales.nombres.apMaterno),1),(0,o._)("p",v,(0,n.zw)(e.admin.datosPersonales.privado.email),1),(0,o._)("p",w,(0,n.zw)(e.admin.datosPersonales.privado.username),1)]),(0,o._)("div",null,[(0,o.Wm)(X,{style:{"flex-direction":"column","align-items":"start"}},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{flat:"",color:"black",label:"Informacion general",style:{margin:"3px","text-transform":"capitalize","font-size":"16px","font-weight":"normal",width:"100%","align-items":"start"},onClick:a[0]||(a[0]=a=>e.showSection(1))}),(0,o.Wm)(O,{flat:"",color:"red",label:"Eliminar vinculador",style:{margin:"3px","text-transform":"capitalize","font-size":"16px","font-weight":"normal",width:"100%",display:"flex","justify-content":"center","align-items":"start"},onClick:a[1]||(a[1]=a=>e.deleteDialog=!0)})])),_:1}),(0,o.Wm)(te,{modelValue:e.deleteDialog,"onUpdate:modelValue":a[3]||(a[3]=a=>e.deleteDialog=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(le,{style:{width:"400px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(ae,{class:"q-pa-lg text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(oe,{class:"q-pa-md",name:"warning",color:"orange",size:"6em"}),(0,o._)("p",y," ¿Estas seguro de querer eliminar el vinculador "+(0,n.zw)(e.admin.datosPersonales.nombres.nombre)+" "+(0,n.zw)(e.admin.datosPersonales.nombres.apPaterno)+"? ",1)])),_:1}),(0,o.Wm)(ae,{class:"q-pt-none",style:{display:"flex","justify-content":"end"}},{default:(0,o.w5)((()=>[(0,o.Wm)(X,null,{default:(0,o.w5)((()=>[(0,o.Wm)(ne,{flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{color:"red",label:"Eliminar",style:{margin:"3px 5px",padding:"1px 20px","text-transform":"capitalize","font-size":"16px","font-weight":"normal"},onClick:e.deleteAdmin},null,8,["onClick"]),(0,o.Wm)(O,{flat:"",color:"black",label:"Cancelar",style:{margin:"3px 5px",padding:"1px 15px","text-transform":"capitalize","font-size":"16px","font-weight":"normal"},onClick:a[2]||(a[2]=a=>e.deleteDialog=!1)})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,o._)("div",b,[1===e.actualSection?((0,o.wg)(),(0,o.iD)("div",_,[h,(0,o._)("div",z,[(0,o.Wm)(X,null,{default:(0,o.w5)((()=>[e.isEditingInfo?((0,o.wg)(),(0,o.j4)(ne,{key:1,flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{color:"positive",icon:"save",label:"Guardar",style:{margin:"3px","padding-right":"15px","text-transform":"capitalize","font-size":"12px","font-weight":"normal"},onClick:e.saveEditInfo},null,8,["onClick"]),(0,o.Wm)(O,{color:"red",icon:"cancel",label:"Cancelar",style:{margin:"3px","padding-right":"15px","text-transform":"capitalize","font-size":"12px","font-weight":"normal"},onClick:a[4]||(a[4]=a=>e.showSection(1))})])),_:1})):((0,o.wg)(),(0,o.j4)(ne,{key:0,flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{color:"primary",icon:"edit",label:"Editar",style:{margin:"3px","padding-right":"15px","text-transform":"capitalize","font-size":"12px","font-weight":"normal"},onClick:e.toEditInfo},null,8,["onClick"])])),_:1}))])),_:1})]),(0,o._)("div",k,[e.isEditingInfo?((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("div",j,[A,(0,o._)("div",T,[(0,o.Wm)(ie,{dense:"",modelValue:e.inputFullname,"onUpdate:modelValue":a[5]||(a[5]=a=>e.inputFullname=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])]),(0,o._)("div",$,[B,(0,o._)("div",F,[(0,o.Wm)(ie,{dense:"",modelValue:e.inputEmail,"onUpdate:modelValue":a[6]||(a[6]=a=>e.inputEmail=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])]),(0,o._)("div",M,[G,(0,o._)("div",L,[(0,o.Wm)(ie,{dense:"",modelValue:e.inputUsername,"onUpdate:modelValue":a[7]||(a[7]=a=>e.inputUsername=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])]),(0,o._)("div",N,[R,(0,o._)("div",Y,[(0,o.Wm)(ie,{dense:"",type:"password",modelValue:e.inputPassword,"onUpdate:modelValue":a[8]||(a[8]=a=>e.inputPassword=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])])])):((0,o.wg)(),(0,o.iD)("div",q,[(0,o._)("div",D,[W,(0,o._)("p",C,(0,n.zw)(e.admin.datosPersonales.nombres.nombre)+" "+(0,n.zw)(e.admin.datosPersonales.nombres.apPaterno)+" "+(0,n.zw)(e.admin.datosPersonales.nombres.apMaterno),1)]),(0,o._)("div",P,[V,(0,o._)("p",E,(0,n.zw)(e.admin.datosPersonales.privado.email),1)]),(0,o._)("div",I,[H,(0,o._)("p",Z,(0,n.zw)(e.admin.datosPersonales.privado.username),1)]),Q,U]))])])):(0,o.kq)("",!0)])])]))],64)}l(69665);var K=l(60499),O=l(28339),X=l(17736),ee=l(7904),ae=l(91569);const le=(0,o.aZ)({name:"vinculacion-vinculadorId",setup(){const e=(0,ee.f)(),a=(0,X.r)(),l=(0,O.tv)(),n=(0,K.iH)(l.currentRoute._value.params.id),t=(0,K.iH)(),i=(0,K.iH)(!0),s=(0,K.iH)(1),r=(0,K.iH)(!1),d=(0,K.iH)(!1),p=(0,K.iH)(null),c=(0,K.iH)(null),u=(0,K.iH)(null),m=(0,K.iH)(null);function f(e=null){try{null!==e?(t.value=e,setTimeout((()=>{i.value=!1}),2e3)):(i.value=!0,ae.api.post("./vinculacion/vinculador/perfil",{vinculador:n.value}).then((e=>{t.value=e.data,setTimeout((()=>{i.value=!1}),2e3)})).catch((e=>console.error(e))))}catch(a){setTimeout((()=>{f(),console.error(a)}),2e3)}}function g(){ae.api.post("./vinculacion/vinculador/perfil/borrar",{vinculador:n._value}).then((e=>{console.log(e.data),"Vinculador eliminado correctamente"===e.data&&l.push({name:"vinculacion-listaVinculadores"})})).catch((e=>{console.error(e)}))}function x(){console.clear(),l.go(-1)}function v(){r.value=!r.value;const e=t.value.datosPersonales.nombres,a=t.value.datosPersonales.privado;p.value=`${e.nombre} ${e.apPaterno} ${e.apMaterno}`,u.value=a.email,c.value=a.username,m.value="**********"}function w(){const e=p.value,a=e.split(" ");let l,o,t;a.length>3?(l=`${a[0]} ${a[1]}`,o=a[2],t=a[3]):(l=a[0],o=a[1],t=a[2]);const d={idVinculador:n._value,datosPersonales:{nombres:{nombre:l,apPaterno:o,apMaterno:t},privado:{email:u.value,username:c.value,password:m.value}}};i.value=!0,ae.api.patch("./vinculacion/vinculador/perfil/modificar",{vinculador:d}).then((e=>{e.data.msg?console.log(e.data.msg):(r.value=!1,s.value=1,f(e.data))})).catch((e=>{console.error(e)}))}function y(e){r.value=!1,s.value=e}return(0,o.bv)((()=>{f()})),{dataApiStore:e,filterStore:a,router:l,idAdmin:n,admin:t,loadAdmin:f,deleteDialog:d,deleteAdmin:g,adminsLoaded:i,toBack:x,showSection:y,actualSection:s,toEditInfo:v,isEditingInfo:r,saveEditInfo:w,inputFullname:p,inputUsername:c,inputEmail:u,inputPassword:m}}});var oe=l(11639),ne=l(11821),te=l(68879),ie=l(44458),se=l(63190),re=l(96335),de=l(87743),pe=l(22857),ce=l(67236),ue=l(66611),me=l(18149),fe=l(69984),ge=l.n(fe);const xe=(0,oe.Z)(le,[["render",J],["__scopeId","data-v-043f6bc0"]]),ve=xe;ge()(le,"components",{QCardActions:ne.Z,QBtn:te.Z,QCard:ie.Z,QCardSection:se.Z,QSpinnerHourglass:re.Z,QDialog:de.Z,QIcon:pe.Z,QBtnGroup:ce.Z,QInput:ue.Z,QField:me.Z})}}]);