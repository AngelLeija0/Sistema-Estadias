"use strict";(globalThis["webpackChunkestadias_quasar"]=globalThis["webpackChunkestadias_quasar"]||[]).push([[29],{31029:(e,l,a)=>{a.r(l),a.d(l,{default:()=>E});var t=a(59835),o=a(86970);const n=e=>((0,t.dD)("data-v-760c40ad"),e=e(),(0,t.Cn)(),e),i={class:"container-fluid"},r={class:"container-fluid",style:{"background-color":"#f5f5f5","min-height":"60vh","margin-top":"0"}},s={class:"row"},d={key:0,class:"col-12 q-pa-lg",style:{display:"flex","justify-content":"center"}},c=n((()=>(0,t._)("h1",{style:{"font-size":"24px","font-weight":"400"}},"Cargando alumnos",-1))),u={key:1,class:"col-12 q-pa-lg"},m={class:"row q-ma-sm"},p={class:"col-12",style:{display:"flex","justify-content":"end"}},f=n((()=>(0,t._)("div",{class:"col-12 q-pa-md"},[(0,t._)("div",{class:"text-h6 text-center",style:{"font-size":"22px","font-weight":"500"}}," ¿Estas seguro de borrarlo? ")],-1))),g={class:"col-12 q-pt-xl"};function w(e,l,a,n,w,b){const h=(0,t.up)("q-btn"),v=(0,t.up)("q-card-actions"),q=(0,t.up)("q-spinner-hourglass"),x=(0,t.up)("q-card-section"),y=(0,t.up)("q-card"),_=(0,t.up)("q-btn-group"),k=(0,t.up)("q-td"),C=(0,t.up)("q-tr"),S=(0,t.up)("q-table"),W=(0,t.up)("q-dialog"),Z=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",null,[(0,t._)("div",i,[(0,t.Wm)(v,{style:{"background-color":"#f5f5f5",display:"flex","justify-content":"start"}},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{flat:"",color:"black",label:"Regresar",icon:"arrow_left",style:{margin:"3px","text-transform":"capitalize","font-size":"16px"},onClick:e.toBack},null,8,["onClick"])])),_:1})]),(0,t._)("div",r,[(0,t._)("div",s,[e.studentsLoaded?((0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(y,{class:"q-ma-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{class:"q-ml-xl q-mr-xl q-mt-sm q-mb-xl text-center"},{default:(0,t.w5)((()=>[c,(0,t.Wm)(q,{color:"primary",size:"4em"})])),_:1})])),_:1})])):((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(S,{title:"Alumnos",rows:e.tableRows,columns:e.tableColumns,"row-key":"nombre"},{body:(0,t.w5)((l=>[(0,t.Wm)(C,{props:l},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tableColumns,(a=>((0,t.wg)(),(0,t.j4)(k,{key:a.name,props:l},{default:(0,t.w5)((()=>["actions"===a.name?((0,t.wg)(),(0,t.j4)(_,{key:0,flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{color:"red",size:"sm","icon-right":"delete",class:"q-mx-sm",onClick:a=>e.deleteStudent(l.row.idAlumno)},{default:(0,t.w5)((()=>[(0,t.Uk)("Eliminar")])),_:2},1032,["onClick"])])),_:2},1024)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,o.zw)(l.row[a.field]),1)],64))])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]))])])]),(0,t.Wm)(W,{modelValue:e.dialogDeleteStudent,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dialogDeleteStudent=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{class:"q-pt-md q-pl-md q-pr-md",style:{width:"500px","max-width":"60vw",height:"40vh"}},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t._)("div",p,[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(h,{align:"right",flat:"",color:"red",icon:"close",style:{margin:"3px","padding-left":"25px","padding-right":"25px","text-transform":"capitalize","font-size":"16px"}},null,512),[[Z]])])),_:1})]),f,(0,t._)("div",g,[(0,t.Wm)(v,{class:"bg-white text-teal",align:"center"},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{color:"red",label:"Borrar",icon:"delete",style:{margin:"3px","padding-left":"20px","padding-right":"20px","text-transform":"capitalize","font-size":"14px"},onClick:l[0]||(l[0]=l=>e.deleteStudent(e.studentSelected,!0))}),(0,t.wy)((0,t.Wm)(h,{color:"black",label:"Cancelar",style:{margin:"3px","padding-left":"20px","padding-right":"20px","text-transform":"capitalize","font-size":"14px"}},null,512),[[Z]])])),_:1})])),_:1})])])])),_:1})])),_:1},8,["modelValue"])],64)}a(69665);var b=a(60499),h=a(17736),v=a(28339),q=a(7904),x=a(91569),y=a(97337),_=a(78900);const k=(0,t.aZ)({name:"admin-alumnos-sin-empezar",components:{CardAlumno:_.Z},setup(){const e=(0,q.f)(),l=(0,b.iH)([]),a=(0,h.r)(),o=(0,v.tv)(),n=(0,b.iH)(!0),i=(0,b.iH)(!1),r=(0,b.iH)(!1),s=[{name:"nombre",required:!0,label:"Nombre",align:"left",field:"nombre"},{name:"apPaterno",required:!0,label:"Apellido Paterno",align:"left",field:"apPaterno"},{name:"apMaterno",required:!0,label:"Apellido Materno",align:"left",field:"apMaterno"},{name:"matricula",required:!0,label:"Matrícula",align:"left",field:"matricula"},{name:"nivelAcademico",required:!0,label:"Nivel Académico",align:"left",field:"nivelAcademico"},{name:"carrera",required:!0,label:"Carrera",align:"left",field:"carrera"},{name:"area",required:!0,label:"Área",align:"left",field:"area"},{name:"fechaRegistro",required:!0,label:"Fecha registro",align:"left",field:"fechaRegistro",sortable:!0},{name:"actions",align:"left",label:"Acciones",field:"actions"}],d=(0,b.iH)([]),c=(0,b.iH)(null);function u(){try{x.api.post("./admin/alumnos/sin-iniciar",{}).then((e=>{console.log(e.data);const l=e.data;l.map((e=>{console.log(e),e.fechaRegistro=p(e.fechaRegistro)})),d.value=l,i.value=!1,n.value=!1})).catch((e=>{console.log(e)}))}catch(e){i.value=!0,n.value=!1,setTimeout((()=>{u(),console.error(e)}),2e3)}}function m(e,l=!1){console.log(e),c.value=e,r.value=!0,1==l&&(console.log(c.value),r.value=!1,x.api.post("./admin/alumnos/eliminar",{idStudent:c.value}).then((e=>{console.log(e.data),c.value=null,u()})).catch((e=>{console.log(e)})))}function p(e){console.log(e);const l=new Date(e);return(0,y.Z)(l,"dd-MM-yyyy HH:mm:ss")}return(0,t.bv)((()=>{u()})),{filterStore:a,dataApiStore:e,students:l,router:o,loadStudents:u,studentsLoaded:n,studentsEmpty:i,tableColumns:s,tableRows:d,deleteStudent:m,dialogDeleteStudent:r,studentSelected:c}},methods:{toBack(){window.sessionStorage.removeItem("filter"),this.filterStore.clearFilter(),window.sessionStorage.removeItem("data-api"),this.dataApiStore.clearDataApi(),console.clear(),this.router.push({name:"admin-alumnos"})}}});var C=a(11639),S=a(11821),W=a(68879),Z=a(44458),z=a(63190),A=a(96335),D=a(69724),H=a(31233),Q=a(67220),R=a(67236),M=a(87743),T=a(62146),j=a(69984),B=a.n(j);const P=(0,C.Z)(k,[["render",w],["__scopeId","data-v-760c40ad"]]),E=P;B()(k,"components",{QCardActions:S.Z,QBtn:W.Z,QCard:Z.Z,QCardSection:z.Z,QSpinnerHourglass:A.Z,QTable:D.Z,QTr:H.Z,QTd:Q.Z,QBtnGroup:R.Z,QDialog:M.Z}),B()(k,"directives",{ClosePopup:T.Z})}}]);