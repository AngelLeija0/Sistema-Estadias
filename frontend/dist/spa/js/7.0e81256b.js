"use strict";(globalThis["webpackChunkestadias_quasar"]=globalThis["webpackChunkestadias_quasar"]||[]).push([[7],{96847:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Te});var o=t(59835),l=t(86970);const n=e=>((0,o.dD)("data-v-fb9cf058"),e=e(),(0,o.Cn)(),e),i={class:"container-fluid",style:{"background-color":"#f5f5f5"}},r={key:0,class:"container-fluid",style:{"background-color":"#f5f5f5",height:"500px","margin-top":"0"}},s={class:"row"},c={class:"col-12",style:{display:"flex","justify-content":"center"}},u=n((()=>(0,o._)("h1",{style:{"font-size":"24px","font-weight":"400"}},"Cargando alumno",-1))),d={key:1,class:"container-fluid q-pt-sm q-pl-xl q-pr-xl q-pb-xl",style:{"background-color":"#f5f5f5","min-height":"73vh"}},p={class:"row q-ml-xl q-mr-xl",style:{"background-color":"white","border-radius":"15px",height:"65vh"}},m={class:"col-3 q-pt-lg",style:{"border-right":"1px solid lightgray"}},v={style:{padding:"5px","text-align":"center","border-bottom":"1px solid lightgray"}},g={style:{"font-size":"16px","font-weight":"500","margin-bottom":"0"}},f={style:{"font-size":"16px","font-weight":"500"}},h={style:{"font-size":"14px"}},b={style:{color:"#777676","font-size":"14px"}},y={class:"col-8 q-pl-xl"},x={key:0,class:"row"},w=n((()=>(0,o._)("div",{class:"col-12",style:{"padding-bottom":"20px"}},[(0,o._)("h5",{style:{"font-weight":"500"}},"Información General")],-1))),_={class:"col-4"},P=n((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Nombre",-1))),z={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},C={class:"col-4"},H=n((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Carrera",-1))),S={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},A={class:"col-4"},k=n((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Area",-1))),E={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},D=n((()=>(0,o._)("div",{class:"col-12"},null,-1))),q={class:"col-3"},j=n((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Matricula",-1))),W={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},F={class:"col-2"},T=n((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Grado",-1))),Z={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},I={class:"col-2"},V=n((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Grupo",-1))),Q={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},R={class:"col-5"},M=n((()=>(0,o._)("p",{style:{margin:"5px","font-size":"16px"}},"Nivel academico",-1))),N={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},U={key:1,class:"row"},B=n((()=>(0,o._)("div",{class:"text-h6 text-center"},"Descargando documento",-1))),L=n((()=>(0,o._)("div",{class:"text-h6 text-center"}," No se encontro este documento ",-1))),G=n((()=>(0,o._)("div",{class:"col-12"},[(0,o._)("h5",{style:{"font-weight":"500"}},"Documentación")],-1))),$={class:"col-12 q-pt-md"},O={key:0,class:"row",style:{"overflow-y":"scroll",height:"45vh"}},Y={style:{width:"45%",background:"lightgray",padding:"7px 10px","border-radius":"5px"}},K={style:{margin:"0",height:"100%"}},J={style:{margin:"2px",height:"100%"}},X={key:1,class:"row"},ee=n((()=>(0,o._)("p",null,"No se encontraron documentos",-1))),ae=[ee],te={class:"row q-ma-sm"},oe={class:"col-12",style:{display:"flex","justify-content":"end"}},le={class:"col-12 q-pa-md"},ne={class:"text-h6 text-center",style:{"font-size":"22px","font-weight":"500"}},ie={class:"col-12 q-pa-md q-mt-md"},re={style:{"font-size":"14px"}},se=n((()=>(0,o._)("span",{style:{"font-weight":"500"}},"Estado: ",-1))),ce={style:{"font-size":"14px"}},ue=n((()=>(0,o._)("span",{style:{"font-weight":"500"}},"Fecha de revisión: ",-1))),de={style:{"font-size":"14px"}},pe=n((()=>(0,o._)("span",{style:{"font-weight":"500"}},"Motivo: ",-1)));function me(e,a,t,n,ee,me){const ve=(0,o.up)("q-btn"),ge=(0,o.up)("q-card-actions"),fe=(0,o.up)("q-spinner-hourglass"),he=(0,o.up)("q-card-section"),be=(0,o.up)("q-card"),ye=(0,o.up)("q-spinner"),xe=(0,o.up)("q-dialog"),we=(0,o.up)("q-icon"),_e=(0,o.up)("q-btn-group"),Pe=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[(0,o.Wm)(ge,{style:{display:"flex","justify-content":"start"}},{default:(0,o.w5)((()=>[(0,o.Wm)(ve,{flat:"",color:"black",label:"Regresar",icon:"arrow_left",style:{margin:"3px","text-transform":"capitalize","font-size":"16px"},onClick:e.toBack},null,8,["onClick"])])),_:1})]),e.studentsLoaded?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",s,[(0,o._)("div",c,[(0,o.Wm)(be,{class:"q-ma-lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(he,{class:"q-ml-xl q-mr-xl q-mt-sm q-mb-xl text-center"},{default:(0,o.w5)((()=>[u,(0,o.Wm)(fe,{color:"primary",size:"4em"})])),_:1})])),_:1})])])])):((0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",p,[(0,o._)("div",m,[(0,o._)("div",v,[(0,o._)("p",g,(0,l.zw)(e.student.nombre),1),(0,o._)("p",f,(0,l.zw)(e.student.apPaterno)+" "+(0,l.zw)(e.student.apMaterno),1),(0,o._)("p",h,(0,l.zw)(e.student.carrera)+" "+(0,l.zw)(e.student.area),1),(0,o._)("p",b,(0,l.zw)(e.student.matricula),1)]),(0,o._)("div",null,[(0,o.Wm)(ge,{style:{"flex-direction":"column","align-items":"start"}},{default:(0,o.w5)((()=>[(0,o.Wm)(ve,{flat:"",color:"black",label:"Informacion general",style:(0,l.j5)({margin:"3px",textTransform:"capitalize",fontSize:"16px",fontWeight:"normal",width:"100%",alignItems:"start",background:1===e.actualSection?"#e8e8e8":""}),onClick:a[0]||(a[0]=a=>e.showSection(1))},null,8,["style"]),(0,o.Wm)(ve,{flat:"",color:"black",label:"Documentación",style:(0,l.j5)({margin:"3px",textTransform:"capitalize",fontSize:"16px",fontWeight:"normal",width:"100%",alignItems:"start",background:2===e.actualSection?"#e8e8e8":""}),onClick:a[1]||(a[1]=a=>e.showSection(2))},null,8,["style"])])),_:1})])]),(0,o._)("div",y,[1===e.actualSection?((0,o.wg)(),(0,o.iD)("div",x,[w,(0,o._)("div",_,[P,(0,o._)("p",z,(0,l.zw)(e.student.nombre)+" "+(0,l.zw)(e.student.apPaterno)+" "+(0,l.zw)(e.student.apMaterno),1)]),(0,o._)("div",C,[H,(0,o._)("p",S,(0,l.zw)(e.student.carrera),1)]),(0,o._)("div",A,[k,(0,o._)("p",E,(0,l.zw)(e.student.area),1)]),D,(0,o._)("div",q,[j,(0,o._)("p",W,(0,l.zw)(e.student.matricula),1)]),(0,o._)("div",F,[T,(0,o._)("p",Z,(0,l.zw)(e.student.grado),1)]),(0,o._)("div",I,[V,(0,o._)("p",Q,(0,l.zw)(e.student.grupo),1)]),(0,o._)("div",R,[M,(0,o._)("p",N,(0,l.zw)(e.student.nivelAcademico),1)])])):(0,o.kq)("",!0),2===e.actualSection?((0,o.wg)(),(0,o.iD)("div",U,[(0,o.Wm)(xe,{modelValue:e.downloadingDocument,"onUpdate:modelValue":a[2]||(a[2]=a=>e.downloadingDocument=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(be,{class:"q-pa-lg",style:{width:"300px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(he,null,{default:(0,o.w5)((()=>[B])),_:1}),(0,o.Wm)(he,{class:"q-pt-none text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(ye,{color:"primary",size:"50px"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(xe,{modelValue:e.downloadingError,"onUpdate:modelValue":a[3]||(a[3]=a=>e.downloadingError=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(be,{class:"q-pa-lg",style:{width:"300px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(he,null,{default:(0,o.w5)((()=>[L])),_:1}),(0,o.Wm)(he,{class:"q-pt-none text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(we,{name:"cancel",color:"red",size:"50px"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),G,(0,o._)("div",$,[e.existsDocumentos?((0,o.wg)(),(0,o.iD)("div",O,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.documents,((a,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"col-11 q-ma-sm",key:t+1,style:{display:"flex","align-items":"center"}},[(0,o._)("div",Y,[(0,o._)("p",K,(0,l.zw)(a.label),1)]),(0,o.Wm)(_e,{flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(ve,{flat:"",color:"black",icon:"visibility",style:{"padding-right":"10px","text-transform":"capitalize","font-size":"12px","font-weight":"normal"},disable:"Sin entregar"===a.state,onClick:t=>e.toDownloadDocument(a.name,a.path)},null,8,["disable","onClick"]),(0,o.Wm)(ve,{color:"secondary",icon:"settings",label:"Cambiar estado",style:{margin:"3px",padding:"7px 15px","text-transform":"capitalize","font-size":"12px","font-weight":"normal","border-radius":"3px"},disable:"",onClick:t=>(e.setActualDocument(a.name),e.dialogChangePhaseState=!0)},null,8,["onClick"])])),_:2},1024),(0,o._)("div",{style:(0,l.j5)({display:"flex",justifyContent:"center",alignItems:"center",width:"30%",color:"white",background:e.defineDocumentStateColor(a.state),padding:"5px 10px",borderRadius:"5px"})},[(0,o._)("p",J,(0,l.zw)(a.state),1),"Rechazada"===a.state?((0,o.wg)(),(0,o.j4)(ve,{key:0,flat:"",color:"white",icon:"more_horiz",size:"10px",style:{margin:"0 4px"},onClick:t=>(e.setActualDocument(a.name),e.dialogPhaseState=!0)},null,8,["onClick"])):(0,o.kq)("",!0)],4)])))),128))])):((0,o.wg)(),(0,o.iD)("div",X,ae))])])):(0,o.kq)("",!0)])])])),(0,o.Wm)(xe,{modelValue:e.dialogPhaseState,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dialogPhaseState=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(be,{class:"q-pt-md q-pl-md q-pr-md",style:{width:"500px","max-width":"60vw",height:"45vh"}},{default:(0,o.w5)((()=>[(0,o._)("div",te,[(0,o._)("div",oe,[(0,o.Wm)(ge,null,{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(ve,{align:"right",flat:"",color:"red",icon:"close",style:{margin:"3px","padding-left":"25px","padding-right":"25px","text-transform":"capitalize","font-size":"16px"}},null,512),[[Pe]])])),_:1})]),(0,o._)("div",le,[(0,o._)("div",ne," Estado de etapa "+(0,l.zw)(e.actualDocument.label),1)]),(0,o._)("div",ie,[(0,o._)("p",re,[se,(0,o.Uk)((0,l.zw)(e.actualDocument.state.name),1)]),(0,o._)("p",ce,[ue,(0,o.Uk)((0,l.zw)(e.actualDocument.state.date),1)]),(0,o._)("p",de,[pe,(0,o.Uk)((0,l.zw)(e.actualDocument.state.motive),1)])])])])),_:1})])),_:1},8,["modelValue"])],64)}t(69665),t(62309);var ve=t(60499),ge=t(28339),fe=t(17736),he=t(7904),be=t(91569),ye=t(97337);const xe=(0,o.aZ)({name:"vinculacion-alumnoId",setup(){const e=(0,he.f)(),a=(0,fe.r)(),t=(0,ge.tv)(),l=(0,ve.iH)(t.currentRoute._value.params.id),n=(0,ve.iH)(),i=(0,ve.iH)(!0),r=(0,ve.iH)(1),s=(0,ve.iH)(0),c=(0,ve.iH)(!1),u=(0,ve.iH)(!1),d=(0,ve.iH)(!1),p=(0,ve.iH)(!1),m=(0,ve.iH)(!1),v=(0,ve.iH)(!1),g=(0,ve.iH)(!1),f=(0,ve.iH)(!1),h=(0,ve.iH)(!1),b=(0,ve.iH)(!1),y=(0,ve.iH)(!1),x=(0,ve.iH)(!1),w=(0,ve.iH)(!1),_=(0,ve.iH)({label:"",motive:"",date:"",color:""}),P=(0,ve.iH)(null),z=(0,ve.iH)(null),C=(0,ve.iH)(null),H=(0,ve.iH)(null),S=(0,ve.iH)(null),A=(0,ve.iH)(null),k=(0,ve.iH)(null),E=(0,ve.iH)(null),D=(0,ve.iH)(null),q=(0,ve.iH)(null),j=(0,ve.iH)(null),W=(0,ve.iH)(null),F=(0,ve.iH)(null),T=(0,ve.iH)(null),Z=(0,ve.iH)(null),I=(0,ve.iH)(null),V=(0,ve.iH)(null),Q=(0,ve.iH)(null),R=(0,ve.iH)(null),M=(0,ve.iH)(null),N=(0,ve.iH)([1,2,3,4,5]),U=(0,ve.iH)({label:"",motive:"",date:"",color:""}),B=(0,ve.iH)(null),L=(0,ve.iH)([{label:"Curriculum Vitae Español",name:"cve",icon:"description",state:"Sin entregar",motive:"",date:"",path:""},{label:"Curriculum Vitae Inglés",name:"cvi",icon:"description",state:"Sin entregar",motive:"",date:"",path:""},{label:"Carta Presentación",name:"cpa",icon:"mail",state:"Sin entregar",motive:"",date:"",path:""},{label:"Carta Aceptación",name:"caa",icon:"mail",state:"Sin entregar",motive:"",date:"",path:""},{label:"Constancia de Vigencia de Seguro Social",name:"nss",icon:"contact_page",state:"Sin entregar",motive:"",date:"",path:""},{label:"F-PSE-DICA-17 Estadias en Sector Productivo",name:"dictamen",icon:"summarize",state:"Sin entregar",motive:"",date:"",path:""},{label:"F-PSE-DICA-18 Protesta de ley",name:"protesta",icon:"gavel",state:"Sin entregar",motive:"",date:"",path:""},{label:"F-PSE-DICA-19 Rubrica de Evaluación",name:"rubrica",icon:"assignment",state:"Sin entregar",motive:"",date:"",path:""},{label:"Reporte Proyecto de Estadias",name:"reporte",icon:"article",state:"Sin entregar",motive:"",date:"",path:""},{label:"Carta Terminación Proyecto",name:"ctp",icon:"mail",state:"Sin entregar",motive:"",date:"",path:""}]),G=(0,ve.iH)({label:"",name:"",state:{name:"",motive:"",date:""}}),$=(0,ve.iH)(!1),O=(0,ve.iH)(!1),Y=(0,ve.iH)(null),K=(0,ve.iH)(null),J=(0,ve.iH)(null),X=(0,ve.iH)(null),ee=(0,ve.iH)(null),ae=(0,ve.iH)(null),te=(0,ve.iH)(null),oe=(0,ve.iH)(null),le=(0,ve.iH)(null),ne=(0,ve.iH)(null),ie=(0,ve.iH)(null);function re(){try{i.value=!0,be.api.post("./admin/alumno/perfil",{idAlumno:l._value}).then((e=>{if(console.log(e.data),e.data.msg)console.log(e.data.msg);else{if(e.data.cartaPresentacion){f.value=!0;const a=e.data.cartaPresentacion;_.value.label=a.estado.nombre,"Ninguno"===a.estado.motivo?_.value.motive="":_.value.motive=a.estado.motivo,_.value.date=He(a.estado.fecha),_.value.color=Pe(a.estado.nombre)}if(e.data.anteproyecto?b.value=!0:b.value=!1,e.data.avance?y.value=!0:y.value=!1,e.data.avance){y.value=!0,ne.value=e.data.avance.progreso;const a={};e.data.avance.etapa1&&(a.etapa1=e.data.avance.etapa1),e.data.avance.etapa2&&(a.etapa2=e.data.avance.etapa2),e.data.avance.etapa3&&(a.etapa3=e.data.avance.etapa3),e.data.avance.etapa4&&(a.etapa4=e.data.avance.etapa4),e.data.avance.etapa5&&(a.etapa5=e.data.avance.etapa5),ie.value=a}else y.value=!1;if(e.data.documentos){h.value=!0;const a=e.data.documentos;Object.keys(a).map((e=>{const t=e.replace(".pdf",""),o=L.value.findIndex((e=>e.name===t));L.value[o].path=a[e].archivo,L.value[o].state=a[e].estado,L.value[o].motive=void 0!==a[e].motivo?a[e].motivo:"",L.value[o].date=a[e].fecha}))}else h.value=!1;n.value=e.data,setTimeout((()=>{i.value=!1}),2e3)}})).catch((e=>console.error(e)))}catch(e){setTimeout((()=>{re(),console.log(e)}),2e3)}}function se(e){x.value=!1,r.value=e,ce()}function ce(){s.value=0,U.value.label="",U.value.motive="",U.value.date="",U.value.color=""}function ue(e){s.value=e;const a=M.value[e];console.log(a),void 0!==a?(U.value.label=a.estado,U.value.motive=a.motivo,U.value.date=a.fecha,U.value.color=Pe(a.estado)):(U.value.label="Sin comenzar",U.value.motive="",U.value.date="",U.value.color="#FFC107");const t=L.value,o=[];t.map((a=>{a.phase===e&&o.push(a)})),B.value=o}function de(){console.clear(),t.go(-1)}function pe(){x.value=!1,r.value=3;const e=A.value,a=e.split(" "),t=a.slice(0,2).join(" "),o=a[2],i=a[3],s={estado:{nombre:_.value.label,motivo:_.value.motive,fecha:new Date},datosAlumno:{nombres:{nombre:t,apPaterno:o,apMaterno:i},privado:{matricula:D.value,email:q.value},telefonoCelular:P.value,telefonoCasa:z.value,nss:j.value,curp:W.value},datosAcademicos:{datosAcademicosAlumno:{nivelAcademico:Z.value,turno:I.value,carrera:k.value,area:E.value,grado:F.value,grupo:T.value},periodo:Q.value,año:V.value},datosEmpresa:{nombreEmpresa:H.value,nombreEmpresario:C.value,puestoEmpresario:S.value}};be.api.patch("./admin/alumno/perfil/cpa/modificar",{idAlumno:l._value,cpa:s}).then((e=>{console.log(e.data);const a=e.data.cartaPresentacion;n.value.cartaPresentacion=a})).catch((e=>{console.error(e)}))}function me(){x.value=!0,A.value=`${n.value.nombre} ${n.value.apPaterno} ${n.value.apMaterno}`,q.value=n.value.cartaPresentacion.datosAlumno.privado.email,j.value=n.value.cartaPresentacion.datosAlumno.nss,W.value=n.value.cartaPresentacion.datosAlumno.curp,k.value=n.value.carrera,E.value=n.value.area,D.value=n.value.matricula,F.value=n.value.grado,T.value=n.value.grupo,Z.value=n.value.nivelAcademico,I.value=n.value.turno,V.value=n.value.cartaPresentacion.datosAcademicos.año,Q.value=n.value.cartaPresentacion.datosAcademicos.periodo,C.value=n.value.cartaPresentacion.datosEmpresa.nombreEmpresario,H.value=n.value.cartaPresentacion.datosEmpresa.nombreEmpresa,S.value=n.value.cartaPresentacion.datosEmpresa.puestoEmpresario,R.value=n.value.cartaPresentacion.fechaRegistro,console.log(n.value.cartaPresentacion),P.value=n.value.cartaPresentacion.datosAlumno.telefonoCelular,z.value=n.value.cartaPresentacion.datosAlumno.telefonoCasa}function xe(){w.value=!1,r.value=4;const e={datosEmpresa:{emailEmpresario:n.value.anteproyecto.datosEmpresa.emailEmpresario,telefonoEmpresario:n.value.anteproyecto.datosEmpresa.telefonoEmpresario},datosProyecto:{nameProject:n.value.anteproyecto.datosProyecto.nombre,objectiveProject:n.value.anteproyecto.datosProyecto.objetivo,descriptionProject:n.value.anteproyecto.datosProyecto.descripcion},estado:{nameStateProject:n.value.anteproyecto.estado.nombre,motiveStateProject:n.value.anteproyecto.estado.motivo,dateStateProject:n.value.anteproyecto.estado.fecha}};be.api.patch("./admin/alumno/perfil/anteproyecto/modificar",{idAlumno:l._value,anteproyecto:e}).then((e=>{e.data.msg?console.log(e.data.msg):console.log(e.data)})).catch((e=>{console.error(e)}))}function we(){w.value=!0,Y.value=n.value.anteproyecto.datosEmpresa.emailEmpresario,K.value=n.value.anteproyecto.datosEmpresa.telefonoEmpresario,J.value=n.value.anteproyecto.datosProyecto.nombre,X.value=n.value.anteproyecto.datosProyecto.objetivo,ee.value=n.value.anteproyecto.datosProyecto.descripcion,ae.value=n.value.anteproyecto.estado.nombre,te.value=n.value.anteproyecto.estado.motivo,oe.value=n.value.anteproyecto.estado.fecha}function _e(e,a){if(console.log(a),""===a)return void setTimeout((()=>{$.value=!0,setTimeout((()=>{$.value=!1}),2e3)}),1e3);const t=`${e}`;O.value=!0,console.log({idAlumno:l._value,nombreDocumento:e,pathDocumento:a}),be.api.post("./admin/alumno/perfil/documento/descargar",{idAlumno:l._value,nombreDocumento:e,pathDocumento:a},{responseType:"blob"}).then((e=>{const a=new Blob([e.data],{type:"application/pdf"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.setAttribute("download",`${t.toLowerCase()}.pdf`),document.body.appendChild(l),l.click(),document.body.removeChild(l),setTimeout((()=>{O.value=!1}),1500)})).catch((e=>{console.error(e),setTimeout((()=>{O.value=!1,$.value=!0,setTimeout((()=>{$.value=!1}),2e3)}),1e3)}))}function Pe(e){return"Sin comenzar"===e||"Sin finalizar"===e?"#FFC107":"En revision"===e||"En revisión"===e?"#FF8D4D":"Aceptada"===e?"#0ECC43":"Rechazada"===e?"#F44336":"black"}function ze(e){return"Sin entregar"===e?"#FFC107":"En revision"===e||"En revisión"===e||"Guardado"===e?"#FF8D4D":"Aceptada"===e?"#0ECC43":"Rechazada"===e?"#F44336":"black"}function Ce(e){console.log(e);const a=L.value.find((a=>a.name===e));console.log(a),G.value.label=a.label,G.value.name=a.name,G.value.path=a.path,G.value.state.name=a.state,G.value.state.motive=void 0!==a.motive?a.motive:"",G.value.state.date=a.date,console.log(G.value.state)}function He(e){const a=new Date(e);return(0,ye.Z)(a,"dd-MM-yyyy HH:mm:ss")}function Se(e,a=""){be.api.post("./admin/alumno/perfil/documentos/etapa-toggle",{idAlumno:l._value,etapa:s.value,estado:e,motivo:a}).then((e=>{console.log(e.data),U.label,U.value.label=e.data.estado,U.value.motive=e.data.motivo,U.value.date=e.data.fecha,U.value.color=Pe(e.data.estado),v.value=!1,g.value=!1})).catch((e=>{v.value=!1,g.value=!1,console.error(e)}))}function Ae(e,a=""){const t={estado:{nombre:e,motivo:a,fecha:new Date},datosAlumno:{nombres:{nombre:n.value.nombre,apPaterno:n.value.apPaterno,apMaterno:n.value.apMaterno},privado:{matricula:n.value.matricula,email:n.value.cartaPresentacion.datosAlumno.privado.email},telefonoCelular:n.value.cartaPresentacion.datosAlumno.telefonoCelular,telefonoCasa:n.value.cartaPresentacion.datosAlumno.telefonoCasa,nss:n.value.cartaPresentacion.datosAlumno.nss,curp:n.value.cartaPresentacion.datosAlumno.curp},datosAcademicos:{datosAcademicosAlumno:{nivelAcademico:n.value.nivelAcademico,turno:n.value.turno,carreraa:n.value.carrera,area:n.value.area,grado:n.value.grado,grupo:n.value.grupo},periodo:n.value.cartaPresentacion.datosAcademicos.periodo,año:n.value.cartaPresentacion.datosAcademicos.año},datosEmpresa:{nombreEmpresa:n.value.cartaPresentacion.datosEmpresa.nombreEmpresa,nombreEmpresario:n.value.cartaPresentacion.datosEmpresa.nombreEmpresario,puestoEmpresario:n.value.cartaPresentacion.datosEmpresa.puestoEmpresario}};be.api.patch("./admin/alumno/perfil/cpa/modificar",{idAlumno:l._value,cpa:t}).then((e=>{console.log(e.data);const a=e.data.cartaPresentacion,t=a.estado.nombre,o=a.estado.motivo,l=a.estado.fecha;_.value.label=t,_.value.motive=o,_.value.date=He(l),_.value.color=Pe(t),u.value=!1,p.value=!1,d.value=!1})).catch((e=>{u.value=!1,p.value=!1,d.value=!1,console.error(e)}))}return(0,o.bv)((()=>{re()})),{dataApiStore:e,filterStore:a,router:t,idStudent:l,student:n,loadStudent:re,studentsLoaded:i,toBack:de,phases:N,actualPhase:s,toShowPhase:ue,showSection:se,actualSection:r,dialogChangeCPAState:u,dialogCpaState:c,dialogChecking:p,existsCPA:f,existsDocumentos:h,existAnteproyecto:b,existsAvance:y,toEditCPA:me,isEditingCPA:x,saveEditCPA:pe,fullname:A,email:q,career:k,area:E,matricula:D,nss:j,curp:W,phoneNumber1:P,phoneNumber2:z,grade:F,group:T,academicLevel:Z,turn:I,year:V,period:Q,cpaState:_,businessName:C,companyName:H,businessPosition:S,registerDateCPA:R,toEditAnteporyecto:we,toSaveAnteproyecto:xe,businessEmail:Y,businessPhone:K,nameProject:J,objectiveProject:X,descriptionProject:ee,nameStateProject:ae,motiveStateProject:te,dateStateProject:oe,registerDateProject:le,toDownloadDocument:_e,setPhaseState:Se,documents:L,documentsToShow:B,downloadingError:$,downloadingDocument:O,definePhaseColor:Pe,dialogDenyCpa:d,setCpaState:Ae,formatDate:He,phaseState:U,dialogPhaseState:m,dialogChangePhaseState:v,dialogDenyPhase:g,allPhasesState:M,toBackPhase:ce,defineDocumentStateColor:ze,actualDocument:G,setActualDocument:Ce}}});var we=t(11639),_e=t(11821),Pe=t(68879),ze=t(44458),Ce=t(63190),He=t(96335),Se=t(87743),Ae=t(13902),ke=t(22857),Ee=t(67236),De=t(18149),qe=t(62146),je=t(69984),We=t.n(je);const Fe=(0,we.Z)(xe,[["render",me],["__scopeId","data-v-fb9cf058"]]),Te=Fe;We()(xe,"components",{QCardActions:_e.Z,QBtn:Pe.Z,QCard:ze.Z,QCardSection:Ce.Z,QSpinnerHourglass:He.Z,QDialog:Se.Z,QSpinner:Ae.Z,QIcon:ke.Z,QBtnGroup:Ee.Z,QField:De.Z}),We()(xe,"directives",{ClosePopup:qe.Z})}}]);