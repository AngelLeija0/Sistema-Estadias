"use strict";(globalThis["webpackChunkestadias_quasar"]=globalThis["webpackChunkestadias_quasar"]||[]).push([[941],{1941:(e,a,l)=>{l.r(a),l.d(a,{default:()=>K});var o=l(59835);const t=e=>((0,o.dD)("data-v-60ab8f0c"),e=e(),(0,o.Cn)(),e),s={class:"login-container"},n={class:"login-card"},i={class:"login-form"},u=t((()=>(0,o._)("div",{class:"login-form-header text-left q-pb-md"},"Registrarse",-1))),r={key:0,class:"col-12 row"},d={class:"col-4"},c={class:"col-4 q-px-sm"},m={class:"col-4"},p={class:"col-12"},v={class:"col-12"},b={class:"col-12"},g={key:1,class:"col-12 row"},f={class:"col-12"},V={class:"col-12",style:{"margin-bottom":"24px"}},q={class:"col-12"},w={key:2,class:"col-12 row"},h={class:"col-12",style:{"margin-bottom":"24px"}},y={class:"col-12",style:{"margin-bottom":"24px"}},_={class:"col-6 q-pr-sm"},k={class:"col-6 q-pl-sm"},x={key:3,class:"col-12 q-pt-md"},H={key:4,class:"login-form-actions q-pt-md q-pb-md"},W=t((()=>(0,o._)("p",null,"Valida que los datos ingresados sean correctos. ¿Estas seguro de querer registrarte?",-1))),S={key:0,style:{display:"flex","justify-content":"center"}},U=t((()=>(0,o._)("div",{class:"text-h6 q-pb-md q-pt-md"}," Registrado correctamente ",-1))),C=t((()=>(0,o._)("div",{class:"text-h6 q-pb-md q-pt-md"}," Ha ocurrido un error ",-1)));function I(e,a,l,t,I,R){const P=(0,o.up)("q-input"),Z=(0,o.up)("q-select"),D=(0,o.up)("q-btn"),O=(0,o.up)("q-form"),Q=(0,o.up)("q-page"),A=(0,o.up)("q-icon"),E=(0,o.up)("q-card-section"),L=(0,o.up)("q-card"),M=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Q,{class:"login-page"},{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o._)("div",n,[(0,o._)("div",i,[u,(0,o.Wm)(O,{onSubmit:e.onSubmit,onReset:e.onReset,class:"row",style:{"justify-content":"center"}},{default:(0,o.w5)((()=>[1==e.actualSection?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",d,[(0,o.Wm)(P,{modelValue:e.firstname,"onUpdate:modelValue":a[0]||(a[0]=a=>e.firstname=a),type:"text",label:"Nombre(s)",dense:"",outlined:"",class:"login-input","stack-label":"",color:"primary","bottom-slots":"prepend","prefix-icon":"mdi-account",onChange:e.dataInputsValidation},null,8,["modelValue","onChange"])]),(0,o._)("div",c,[(0,o.Wm)(P,{modelValue:e.middlename,"onUpdate:modelValue":a[1]||(a[1]=a=>e.middlename=a),type:"text",label:"Apellido paterno",dense:"",outlined:"",class:"login-input","stack-label":"",color:"primary","bottom-slots":"prepend","prefix-icon":"mdi-account"},null,8,["modelValue"])]),(0,o._)("div",m,[(0,o.Wm)(P,{modelValue:e.lastname,"onUpdate:modelValue":a[2]||(a[2]=a=>e.lastname=a),type:"text",label:"Apellido materno",dense:"",outlined:"",class:"login-input","stack-label":"",color:"primary","bottom-slots":"prepend","prefix-icon":"mdi-account"},null,8,["modelValue"])]),(0,o._)("div",p,[(0,o.Wm)(P,{modelValue:e.email,"onUpdate:modelValue":a[3]||(a[3]=a=>e.email=a),type:"text",label:"Correo institucional",dense:"",outlined:"","stack-label":"",suffix:"@uttn.mx",rules:e.emailRules,color:"primary","bottom-slots":"prepend","prefix-icon":"mdi-lock",style:{"margin-bottom":"0"}},null,8,["modelValue","rules"])]),(0,o._)("div",v,[(0,o.Wm)(P,{modelValue:e.password,"onUpdate:modelValue":a[4]||(a[4]=a=>e.password=a),type:"password",label:"Contraseña",dense:"",outlined:"","stack-label":"",color:"primary",rules:e.passwordRules,"bottom-slots":"prepend","prefix-icon":"mdi-lock",style:{"margin-bottom":"0"}},null,8,["modelValue","rules"])]),(0,o._)("div",b,[(0,o.Wm)(P,{modelValue:e.confirmPassword,"onUpdate:modelValue":a[5]||(a[5]=a=>e.confirmPassword=a),type:"password",label:"Confirmar contraseña",dense:"",outlined:"","stack-label":"",rules:e.confirmPasswordRules,color:"primary","bottom-slots":"prepend","prefix-icon":"mdi-lock",style:{"margin-bottom":"0","padding-bottom":"0"}},null,8,["modelValue","rules"])])])):(0,o.kq)("",!0),2==e.actualSection?((0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("div",f,[(0,o.Wm)(P,{modelValue:e.studentId,"onUpdate:modelValue":a[6]||(a[6]=a=>e.studentId=a),type:"text",label:"Matricula",dense:"",outlined:"","stack-label":"",color:"primary",rules:e.studentIdRules,"bottom-slots":"prepend","prefix-icon":"mdi-account"},null,8,["modelValue","rules"])]),(0,o._)("div",V,[(0,o.Wm)(Z,{modelValue:e.academicLevel,"onUpdate:modelValue":a[7]||(a[7]=a=>e.academicLevel=a),label:"Nivel academico",options:e.academicLevelOptions,clearable:"",outlined:"",dense:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),(0,o._)("div",q,[(0,o.Wm)(Z,{modelValue:e.turn,"onUpdate:modelValue":a[8]||(a[8]=a=>e.turn=a),label:"Nivel academico",options:e.turnOptions,clearable:"",outlined:"",dense:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options"])])])):(0,o.kq)("",!0),3==e.actualSection?((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("div",h,[(0,o.Wm)(Z,{modelValue:e.career,"onUpdate:modelValue":[a[9]||(a[9]=a=>e.career=a),e.updateAreas],label:"Carrera",options:e.careersOptions,clearable:"",outlined:"",dense:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,o._)("div",y,[(0,o.Wm)(Z,{modelValue:e.area,"onUpdate:modelValue":a[10]||(a[10]=a=>e.area=a),label:"Area",options:e.areasOptions,clearable:"",outlined:"",dense:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),(0,o._)("div",_,[(0,o.Wm)(Z,{modelValue:e.grade,"onUpdate:modelValue":a[11]||(a[11]=a=>e.grade=a),label:"Grado",options:e.gradeOptions,clearable:"",outlined:"",dense:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),(0,o._)("div",k,[(0,o.Wm)(Z,{modelValue:e.group,"onUpdate:modelValue":a[12]||(a[12]=a=>e.group=a),label:"Grupo",options:e.groupOptions,clearable:"",outlined:"",dense:"","emit-value":"","map-options":"","option-label":"label","option-value":"value"},null,8,["modelValue","options"])])])):(0,o.kq)("",!0),4!=e.actualSection?((0,o.wg)(),(0,o.iD)("div",x,[(0,o.Wm)(D,{class:"q-pa-md",icon:"navigate_before",label:"Regresar",size:"md",rounded:"",flat:"",color:"black",onClick:a[13]||(a[13]=a=>e.actualSection--),disable:1==e.actualSection},null,8,["disable"]),(0,o.Wm)(D,{class:"q-pa-md","icon-right":"navigate_next",label:"Siguiente",size:"md",rounded:"",flat:"",color:"black",onClick:e.handleNext,disable:e.isNextButtonDisabled},null,8,["onClick","disable"])])):(0,o.kq)("",!0),4==e.actualSection?((0,o.wg)(),(0,o.iD)("div",H,[W,(0,o.Wm)(D,{label:"Regresar",flat:"",small:"",onClick:a[14]||(a[14]=a=>e.actualSection--)}),(0,o.Wm)(D,{label:"Registrarse",type:"submit",color:"primary",class:"login-btn",rounded:"",small:""})])):(0,o.kq)("",!0)])),_:1},8,["onSubmit","onReset"]),1==e.actualSection?((0,o.wg)(),(0,o.iD)("div",S,[(0,o.Wm)(D,{flat:"","text-color":"black",label:"¿Ya tienes una cuenta? Inicia sesion",size:"sm",padding:"5px",to:"iniciar-sesion"})])):(0,o.kq)("",!0)])])])])),_:1}),(0,o.Wm)(M,{modelValue:e.registerSuccess,"onUpdate:modelValue":a[15]||(a[15]=a=>e.registerSuccess=a),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{style:{width:"380px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{class:"q-pa-lg text-center"},{default:(0,o.w5)((()=>[U,(0,o.Wm)(A,{name:"check",color:"green",size:"7em"})])),_:1}),(0,o.Wm)(E,{class:"q-pt-none"})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(M,{modelValue:e.registerError,"onUpdate:modelValue":a[16]||(a[16]=a=>e.registerError=a),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{style:{width:"380px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{class:"q-pa-lg text-center"},{default:(0,o.w5)((()=>[C,(0,o.Wm)(A,{name:"cancel",color:"red",size:"7em"})])),_:1}),(0,o.Wm)(E,{class:"q-pt-none"})])),_:1})])),_:1},8,["modelValue"])],64)}l(69665);var R=l(60499),P=l(91569),Z=l(49613),D=l(89322),O=l(28339);const Q=(0,o.aZ)({name:"pagina-register",setup(){const e=(0,D.L)(),a=(0,O.tv)(),l=(0,R.iH)(!1),t=(0,R.iH)(!1),s=(0,R.iH)(1),n=(0,R.iH)([{label:"Técnico Superior Universitario",value:"Tecnico Superior Universitario"},{label:"Ingeniería",value:"Ingenieria"},{label:"Posgrado",value:"Posgrado"}]),i=(0,R.iH)([{label:"Matutino",value:"Matutino"},{label:"Vespertino",value:"Vespertino"}]),u=(0,R.iH)([{label:"6to",value:"6"},{label:"8vo",value:"8"},{label:"11vo",value:"11"}]),r=(0,R.iH)([{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"D",value:"D"},{label:"E",value:"E"},{label:"F",value:"F"},{label:"G",value:"G"},{label:"H",value:"H"},{label:"I",value:"I"},{label:"J",value:"J"}]),d=(0,R.iH)([]),c=(0,R.iH)([]),m=(0,R.iH)(),p=(0,R.iH)(),v=(0,R.iH)(),b=(0,R.iH)(),g=(0,R.iH)(),f=(0,R.iH)(),V=(0,R.iH)(),q=(0,R.iH)(),w=(0,R.iH)(),h=(0,R.iH)(),y=(0,R.iH)(),_=(0,R.iH)(),k=(0,R.iH)(),x=(0,R.iH)([e=>!!e||"Correo institucional es requerido",e=>!/.+@|\..+/.test(e)||"Ingresa un correo válido"]),H=(0,R.iH)([e=>!!e||"Contraseña es requerida",e=>e&&e.length>=8||"La contraseña debe tener al menos 8 caracteres"]),W=(0,R.iH)([e=>!!e||"Confirmar contraseña es requerido",e=>e===g.value||"Las contraseñas no coinciden"]),S=(0,R.iH)([e=>!!e||"Matrícula es requerida",e=>/^\d+$/.test(e)||"Ingresa una matrícula válida"]),U=(0,o.Fl)((()=>1===s.value?!m.value||!p.value||!v.value||!b.value||!g.value||!f.value:2===s.value?!V.value||!q.value||!w.value:3===s.value&&(!h.value||!y.value||!_.value||!k.value)));function C(){U.value||s.value++}function I(){try{const o={datosPersonales:{nombres:{nombre:m.value,apPaterno:p.value,apMaterno:v.value},privado:{matricula:V.value,email:b.value,password:g.value}},datosAcademicos:{nivelAcademico:q.value,turno:w.value,carrera:h.value,area:y.value,grado:_.value,grupo:k.value}};P.api.post("./login/register",{alumno:o}).then((o=>{s.value=1,l.value=!0,m.value=null,p.value=null,v.value=null,V.value=null,b.value=null,g.value=null,q.value=null,w.value=null,h.value=null,y.value=null,_.value=null,k.value=null;const t={tipoUsuario:"alumno",id:o.data._id,nombre:o.data.datosPersonales.nombres.nombre,apPaterno:o.data.datosPersonales.nombres.apPaterno,apMaterno:o.data.datosPersonales.nombres.apMaterno};setTimeout((()=>{l.value=!1,e.setUser(t),a.push({name:"alumno-inicio"})}),1500)})).catch((e=>{console.log(e),t.value=!0,setTimeout((()=>{t.value=!1}),1500)}))}catch(o){console.log(o)}}function Q(){user_name.value="",g.value=""}function A(e){"alumno"===e&&a.push({name:"alumno-inicio"}),"asesor"===e&&a.push({name:"asesor-inicio"}),"vinculacion"===e&&a.push({name:"vinculacion-inicio"}),"administrador"===e&&a.push({name:"admin-inicio"})}function E(){P.api.get("./carreras").then((e=>{if(e.data.msg)console.log(e.data.msg);else{const a=e.data;let l=[];a.forEach((e=>{let a={label:e.nombre,value:e.nombre,areas:[]};e.area.nombre.forEach((e=>{a.areas.push({label:e,value:e})})),l.push(a)})),d.value=l,console.log(d.value)}})).catch((e=>console.error(e)))}function L(){console.log(h.value);const e=h.value,a=d.value.find((a=>a.value===e));c.value=a?a.areas:[],y.value=null}return Z.Z.getItem("user")&&(e.setUser(Z.Z.getItem("user")),A(e.user.tipoUsuario)),(0,o.bv)((()=>{E()})),{userStore:e,router:a,onSubmit:I,onReset:Q,toIndex:A,registerSuccess:l,registerError:t,actualSection:s,academicLevelOptions:n,turnOptions:i,gradeOptions:u,groupOptions:r,careersOptions:d,areasOptions:c,firstname:m,middlename:p,lastname:v,email:b,password:g,confirmPassword:f,studentId:V,academicLevel:q,turn:w,career:h,area:y,grade:_,group:k,searchCareers:E,updateAreas:L,emailRules:x,passwordRules:H,confirmPasswordRules:W,studentIdRules:S,isNextButtonDisabled:U,handleNext:C}}});var A=l(11639),E=l(69885),L=l(8326),M=l(66611),N=l(4581),T=l(68879),z=l(87743),B=l(44458),F=l(63190),G=l(22857),j=l(18149),J=l(69984),Y=l.n(J);const $=(0,A.Z)(Q,[["render",I],["__scopeId","data-v-60ab8f0c"]]),K=$;Y()(Q,"components",{QPage:E.Z,QForm:L.Z,QInput:M.Z,QSelect:N.Z,QBtn:T.Z,QDialog:z.Z,QCard:B.Z,QCardSection:F.Z,QIcon:G.Z,QField:j.Z})}}]);