"use strict";(globalThis["webpackChunkestadias_quasar"]=globalThis["webpackChunkestadias_quasar"]||[]).push([[481],{76481:(e,a,l)=>{l.r(a),l.d(a,{default:()=>ve});var t=l(59835),o=l(86970);const n=e=>((0,t.dD)("data-v-658d7894"),e=e(),(0,t.Cn)(),e),i={class:"container-fluid",style:{"background-color":"#f5f5f5"}},s={key:0,class:"container-fluid",style:{"background-color":"#f5f5f5",height:"500px","margin-top":"0"}},r={class:"row"},d={class:"col-12",style:{display:"flex","justify-content":"center"}},p=n((()=>(0,t._)("h1",{style:{"font-size":"24px","font-weight":"400"}}," Cargando administrador ",-1))),m={key:1,class:"container-fluid q-pt-sm q-pl-xl q-pr-xl q-pb-xl",style:{"background-color":"#f5f5f5","min-height":"73vh"}},c={class:"row q-ml-xl q-mr-xl",style:{"background-color":"white","border-radius":"15px",height:"65vh"}},u={class:"col-3 q-pt-lg",style:{"border-right":"1px solid lightgray"}},f={style:{padding:"5px","text-align":"center","border-bottom":"1px solid lightgray"}},g={style:{"font-size":"16px","font-weight":"500","margin-bottom":"0"}},x={style:{"font-size":"16px","font-weight":"500"}},v={style:{"font-size":"14px"}},w={style:{color:"#777676","font-size":"14px"}},y={style:{"font-size":"18px","padding-top":"20px"}},b={class:"col-8 q-pl-xl"},_={key:0,class:"row"},h=n((()=>(0,t._)("div",{class:"col-12"},[(0,t._)("h5",{style:{"font-weight":"500"}},"Información General")],-1))),z={class:"col-12 flex justify-end",style:{"padding-bottom":"10px"}},k={class:"col-12"},q={key:0,class:"row"},D={class:"col-4"},W=n((()=>(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Nombre",-1))),C={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},P={class:"col-4"},E=n((()=>(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Email",-1))),V={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},I={class:"col-4"},H=n((()=>(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Username",-1))),Z={style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}},Q=n((()=>(0,t._)("div",{class:"col-12"},null,-1))),U=n((()=>(0,t._)("div",{class:"col-3"},[(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Contraseña"),(0,t._)("p",{style:{"background-color":"#d9d9d9",padding:"8px",width:"90%","font-size":"14px","border-radius":"5px"}}," ********** ")],-1))),A={key:1,class:"row"},S={class:"col-4"},j=n((()=>(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Nombre",-1))),T={style:{width:"90%"}},$={class:"col-4"},B=n((()=>(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Email",-1))),F={style:{width:"90%"}},M={class:"col-4"},G=n((()=>(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Usuario",-1))),L={style:{width:"90%"}},N={class:"col-3"},R=n((()=>(0,t._)("p",{style:{margin:"5px","font-size":"16px"}},"Contraseña",-1))),Y={style:{width:"90%"}};function J(e,a,l,n,J,K){const O=(0,t.up)("q-btn"),X=(0,t.up)("q-card-actions"),ee=(0,t.up)("q-spinner-hourglass"),ae=(0,t.up)("q-card-section"),le=(0,t.up)("q-card"),te=(0,t.up)("q-icon"),oe=(0,t.up)("q-btn-group"),ne=(0,t.up)("q-dialog"),ie=(0,t.up)("q-input");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",i,[(0,t.Wm)(X,{style:{display:"flex","justify-content":"start"}},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{flat:"",color:"black",label:"Regresar",icon:"arrow_left",style:{margin:"3px","text-transform":"capitalize","font-size":"16px"},onClick:e.toBack},null,8,["onClick"])])),_:1})]),e.adminsLoaded?((0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",r,[(0,t._)("div",d,[(0,t.Wm)(le,{class:"q-ma-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(ae,{class:"q-ml-xl q-mr-xl q-mt-sm q-mb-xl text-center"},{default:(0,t.w5)((()=>[p,(0,t.Wm)(ee,{color:"primary",size:"4em"})])),_:1})])),_:1})])])])):((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("div",c,[(0,t._)("div",u,[(0,t._)("div",f,[(0,t._)("p",g,(0,o.zw)(e.admin.datosPersonales.nombres.nombre),1),(0,t._)("p",x,(0,o.zw)(e.admin.datosPersonales.nombres.apPaterno)+" "+(0,o.zw)(e.admin.datosPersonales.nombres.apMaterno),1),(0,t._)("p",v,(0,o.zw)(e.admin.datosPersonales.privado.email),1),(0,t._)("p",w,(0,o.zw)(e.admin.datosPersonales.privado.username),1)]),(0,t._)("div",null,[(0,t.Wm)(X,{style:{"flex-direction":"column","align-items":"start"}},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{flat:"",color:"black",label:"Informacion general",style:{margin:"3px","text-transform":"capitalize","font-size":"16px","font-weight":"normal",width:"100%","align-items":"start"},onClick:a[0]||(a[0]=a=>e.showSection(1))}),(0,t.Wm)(O,{flat:"",color:"red",label:"Eliminar administrador",style:{margin:"3px","text-transform":"capitalize","font-size":"16px","font-weight":"normal",width:"100%",display:"flex","justify-content":"center","align-items":"start"},onClick:a[1]||(a[1]=a=>e.deleteDialog=!0)})])),_:1}),(0,t.Wm)(ne,{modelValue:e.deleteDialog,"onUpdate:modelValue":a[3]||(a[3]=a=>e.deleteDialog=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(le,{style:{width:"400px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(ae,{class:"q-pa-lg text-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(te,{class:"q-pa-md",name:"warning",color:"orange",size:"6em"}),(0,t._)("p",y," ¿Estas seguro de querer eliminar el administrador "+(0,o.zw)(e.admin.datosPersonales.nombres.nombre)+" "+(0,o.zw)(e.admin.datosPersonales.nombres.apPaterno)+"? ",1)])),_:1}),(0,t.Wm)(ae,{class:"q-pt-none",style:{display:"flex","justify-content":"end"}},{default:(0,t.w5)((()=>[(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[(0,t.Wm)(oe,{flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{color:"red",label:"Eliminar",style:{margin:"3px 5px",padding:"1px 20px","text-transform":"capitalize","font-size":"16px","font-weight":"normal"},onClick:e.deleteAdmin},null,8,["onClick"]),(0,t.Wm)(O,{flat:"",color:"black",label:"Cancelar",style:{margin:"3px 5px",padding:"1px 15px","text-transform":"capitalize","font-size":"16px","font-weight":"normal"},onClick:a[2]||(a[2]=a=>e.deleteDialog=!1)})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,t._)("div",b,[1===e.actualSection?((0,t.wg)(),(0,t.iD)("div",_,[h,(0,t._)("div",z,[(0,t.Wm)(X,null,{default:(0,t.w5)((()=>[e.isEditingInfo?((0,t.wg)(),(0,t.j4)(oe,{key:1,flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{color:"positive",icon:"save",label:"Guardar",style:{margin:"3px","padding-right":"15px","text-transform":"capitalize","font-size":"12px","font-weight":"normal"},onClick:e.saveEditInfo},null,8,["onClick"]),(0,t.Wm)(O,{color:"red",icon:"cancel",label:"Cancelar",style:{margin:"3px","padding-right":"15px","text-transform":"capitalize","font-size":"12px","font-weight":"normal"},onClick:a[4]||(a[4]=a=>e.showSection(1))})])),_:1})):((0,t.wg)(),(0,t.j4)(oe,{key:0,flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{color:"primary",icon:"edit",label:"Editar",style:{margin:"3px","padding-right":"15px","text-transform":"capitalize","font-size":"12px","font-weight":"normal"},onClick:e.toEditInfo},null,8,["onClick"])])),_:1}))])),_:1})]),(0,t._)("div",k,[e.isEditingInfo?((0,t.wg)(),(0,t.iD)("div",A,[(0,t._)("div",S,[j,(0,t._)("div",T,[(0,t.Wm)(ie,{dense:"",modelValue:e.inputFullname,"onUpdate:modelValue":a[5]||(a[5]=a=>e.inputFullname=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])]),(0,t._)("div",$,[B,(0,t._)("div",F,[(0,t.Wm)(ie,{dense:"",modelValue:e.inputEmail,"onUpdate:modelValue":a[6]||(a[6]=a=>e.inputEmail=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])]),(0,t._)("div",M,[G,(0,t._)("div",L,[(0,t.Wm)(ie,{dense:"",modelValue:e.inputUsername,"onUpdate:modelValue":a[7]||(a[7]=a=>e.inputUsername=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])]),(0,t._)("div",N,[R,(0,t._)("div",Y,[(0,t.Wm)(ie,{dense:"",type:"password",modelValue:e.inputPassword,"onUpdate:modelValue":a[8]||(a[8]=a=>e.inputPassword=a),"input-style":"background-color: #D9D9D9; padding: 8px; font-size: 14px; border-radius: 5px;"},null,8,["modelValue"])])])])):((0,t.wg)(),(0,t.iD)("div",q,[(0,t._)("div",D,[W,(0,t._)("p",C,(0,o.zw)(e.admin.datosPersonales.nombres.nombre)+" "+(0,o.zw)(e.admin.datosPersonales.nombres.apPaterno)+" "+(0,o.zw)(e.admin.datosPersonales.nombres.apMaterno),1)]),(0,t._)("div",P,[E,(0,t._)("p",V,(0,o.zw)(e.admin.datosPersonales.privado.email),1)]),(0,t._)("div",I,[H,(0,t._)("p",Z,(0,o.zw)(e.admin.datosPersonales.privado.username),1)]),Q,U]))])])):(0,t.kq)("",!0)])])]))],64)}l(69665);var K=l(60499),O=l(28339),X=l(17736),ee=l(7904),ae=l(91569);const le=(0,t.aZ)({name:"admin-administradorId",setup(){const e=(0,ee.f)(),a=(0,X.r)(),l=(0,O.tv)(),o=(0,K.iH)(l.currentRoute._value.params.id),n=(0,K.iH)(),i=(0,K.iH)(!0),s=(0,K.iH)(1),r=(0,K.iH)(!1),d=(0,K.iH)(!1),p=(0,K.iH)(null),m=(0,K.iH)(null),c=(0,K.iH)(null),u=(0,K.iH)(null);function f(e=null){try{null!==e?(n.value=e,setTimeout((()=>{i.value=!1}),2e3)):(i.value=!0,ae.api.post("./admin/administrador/perfil",{administrador:o.value}).then((e=>{n.value=e.data,setTimeout((()=>{i.value=!1}),2e3)})).catch((e=>console.error(e))))}catch(a){setTimeout((()=>{f(),console.error(a)}),2e3)}}function g(){ae.api.post("./admin/administrador/perfil/borrar",{administrador:o._value}).then((e=>{console.log(e.data),"Administrador eliminado correctamente"===e.data&&l.push({name:"admin-listaAdministradores"})})).catch((e=>{console.error(e)}))}function x(){console.clear(),l.go(-1)}function v(){r.value=!r.value;const e=n.value.datosPersonales.nombres,a=n.value.datosPersonales.privado;p.value=`${e.nombre} ${e.apPaterno} ${e.apMaterno}`,c.value=a.email,m.value=a.username,u.value="**********"}function w(){const e=p.value,a=e.split(" ");let l,t,n;a.length>3?(l=`${a[0]} ${a[1]}`,t=a[2],n=a[3]):(l=a[0],t=a[1],n=a[2]);const d={idAdministrador:o._value,datosPersonales:{nombres:{nombre:l,apPaterno:t,apMaterno:n},privado:{email:c.value,username:m.value,password:u.value}}};i.value=!0,ae.api.patch("./admin/administrador/perfil/modificar",{administrador:d}).then((e=>{e.data.msg?console.log(e.data.msg):(r.value=!1,s.value=1,f(e.data))})).catch((e=>{console.error(e)}))}function y(e){r.value=!1,s.value=e}return(0,t.bv)((()=>{f()})),{dataApiStore:e,filterStore:a,router:l,idAdmin:o,admin:n,loadAdmin:f,deleteDialog:d,deleteAdmin:g,adminsLoaded:i,toBack:x,showSection:y,actualSection:s,toEditInfo:v,isEditingInfo:r,saveEditInfo:w,inputFullname:p,inputUsername:m,inputEmail:c,inputPassword:u}}});var te=l(11639),oe=l(11821),ne=l(68879),ie=l(44458),se=l(63190),re=l(96335),de=l(87743),pe=l(22857),me=l(67236),ce=l(66611),ue=l(18149),fe=l(69984),ge=l.n(fe);const xe=(0,te.Z)(le,[["render",J],["__scopeId","data-v-658d7894"]]),ve=xe;ge()(le,"components",{QCardActions:oe.Z,QBtn:ne.Z,QCard:ie.Z,QCardSection:se.Z,QSpinnerHourglass:re.Z,QDialog:de.Z,QIcon:pe.Z,QBtnGroup:me.Z,QInput:ce.Z,QField:ue.Z})}}]);